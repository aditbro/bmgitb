from django.db import models
from .pasien import Pasien
from .klinik import Dokter

_short_length = 100
_medium_length = 255
_long_length = 800

class Kunjungan(models.Model):
    no_pasien = models.ForeignKey('Pasien', on_delete=models.CASCADE)
    dokter = models.ForeignKey('Dokter', on_delete=models.CASCADE)
    baru = models.BooleanField(default=False)
    asal = models.CharField(max_length=_short_length)
    tarif = models.IntegerField()
    subsidi = models.IntegerField()
    bayar = models.IntegerField()
    diagnosis = models.ForeignKey('Diagnosis', on_delete=models.SET_NULL, null=True)

class Diagnosis(models.Model):
    nama = models.CharField(max_length=_medium_length)
    kode = models.CharField(max_length=_short_length, primary_key=True)
    keterangan = models.CharField(max_length=_long_length)